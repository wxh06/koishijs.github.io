(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{381:function(t,a,e){"use strict";e.r(a);var s=e(25),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"搜图"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#搜图"}},[t._v("#")]),t._v(" 搜图 (image-search)")]),t._v(" "),e("p",[t._v("koishi-plugin-image-search 封装了一系列搜图相关的指令，目前支持以下平台：")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://saucenao.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("saucenao"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://ascii2d.net/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ascii2d"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/danbooru/danbooru",target:"_blank",rel:"noopener noreferrer"}},[t._v("danbooru"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"http://konachan.net/",target:"_blank",rel:"noopener noreferrer"}},[t._v("konachan"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://nhentai.net/",target:"_blank",rel:"noopener noreferrer"}},[t._v("nhentai"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("参考了 "),e("a",{attrs:{href:"https://github.com/Tsuk1ko/CQ-picfinder-robot",target:"_blank",rel:"noopener noreferrer"}},[t._v("Tsuk1ko"),e("OutboundLink")],1),t._v(" 的机器人实现。下面是一个简单的示例：")]),t._v(" "),e("panel-view",{attrs:{title:"聊天记录"}},[e("chat-message",{attrs:{nickname:"Alice",color:"#cc0066"}},[e("p",[t._v("搜图")]),t._v(" "),e("p",[e("img",{attrs:{src:"/image-search/68670776_p0_master1200.jpg",width:"240"}})])]),t._v(" "),e("chat-message",{attrs:{nickname:"Koishi",avatar:"/koishi.png"}},[e("p",[t._v("(95.4%) 地上 / ぢせ")]),t._v(" "),e("p",[e("img",{attrs:{src:"/image-search/68670776_p0_master1200.jpg",width:"240"}})]),t._v(" "),e("p",[t._v("Link: "),e("a",{attrs:{href:"https://pixiv.net/i/68670776",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://pixiv.net/i/68670776")])]),t._v(" "),e("p",[t._v("Author: "),e("a",{attrs:{href:"https://pixiv.net/u/4790",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://pixiv.net/u/4790")])])]),t._v(" "),e("chat-message",{attrs:{nickname:"Bob",color:"#00994d"}},[t._v("搜图")]),t._v(" "),e("chat-message",{attrs:{nickname:"Koishi",avatar:"/koishi.png"}},[t._v("请发送图片。")]),t._v(" "),e("chat-message",{attrs:{nickname:"Bob",color:"#00994d"}},[e("p",[e("img",{attrs:{src:"/image-search/73212619_p0_master1200.jpg",width:"240"}})])]),t._v(" "),e("chat-message",{attrs:{nickname:"Koishi",avatar:"/koishi.png"}},[e("p",[t._v("(93.18%) 書斎 / ぢせ")]),t._v(" "),e("p",[e("img",{attrs:{src:"/image-search/73212619_p0_master1200.jpg",width:"240"}})]),t._v(" "),e("p",[t._v("Link: "),e("a",{attrs:{href:"https://pixiv.net/i/73212619",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://pixiv.net/i/73212619")])]),t._v(" "),e("p",[t._v("Author: "),e("a",{attrs:{href:"https://pixiv.net/u/4790",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://pixiv.net/u/4790")])])])],1),t._v(" "),e("h2",{attrs:{id:"指令：image-search"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#指令：image-search"}},[t._v("#")]),t._v(" 指令：image-search")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("别名：搜图")])])]),t._v(" "),e("p",[t._v("image-search 指令检测当前输入中的全部图片，并依次进行搜索。如果 image-search 所在消息内没有检测到图片，则该指令会给出提示，并对下一条信息中的图片进行处理。")]),t._v(" "),e("p",[t._v("在搜索过程中，image-search 指令会首先使用 saucenao 进行搜索，当相似度低于 60% 时，会在搜索完成后使用 ascii2d 再次搜索。当相似度低于 40% 时，将不会显示 saucenao 本身的搜索结果（但是 ascii2d 的结果会显示）。")]),t._v(" "),e("p",[t._v("此外，这个指令还有一些子指令。")]),t._v(" "),e("h2",{attrs:{id:"指令：saucenao"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#指令：saucenao"}},[t._v("#")]),t._v(" 指令：saucenao")]),t._v(" "),e("p",[t._v("saucenao 指令是 image-search 指令的子指令。它使用 saucenao 进行图片搜索，机制与上面完全相同，但当相似度较低时不会使用 ascii2d 再次搜索，也不会略去本身的搜索结果。")]),t._v(" "),e("h2",{attrs:{id:"指令：ascii2d"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#指令：ascii2d"}},[t._v("#")]),t._v(" 指令：ascii2d")]),t._v(" "),e("p",[t._v("ascii2d 指令也是 image-search 指令的子指令。它使用 ascii2d 进行图片搜索，机制与上面完全相同。")]),t._v(" "),e("h2",{attrs:{id:"参数配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参数配置"}},[t._v("#")]),t._v(" 参数配置")]),t._v(" "),e("panel-view",{staticClass:"code",attrs:{title:""}},[e("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[e("code",[e("span",{staticStyle:{color:"#F92672"}},[t._v("export")]),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),e("span",{staticStyle:{color:"#66D9EF"}},[t._v("interface")]),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),e("span",{staticStyle:{color:"#A6E22E"}},[t._v("SaucenaoConfig")]),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),e("span",{staticStyle:{color:"#F92672"}},[t._v("extends")]),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),e("span",{staticStyle:{color:"#A6E22E"}},[t._v("CommandConfig")]),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")]),t._v("\n"),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  ")]),e("span",{staticStyle:{color:"#75715E"}},[t._v("/** 相似度较低的认定标准（百分比），默认值为 40 */")]),t._v("\n"),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  lowSimilarity")]),e("span",{staticStyle:{color:"#F92672"}},[t._v("?:")]),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),e("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")]),t._v("\n"),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  ")]),e("span",{staticStyle:{color:"#75715E"}},[t._v("/** 相似度较高的认定标准（百分比），默认值为 60 */")]),t._v("\n"),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  highSimilarity")]),e("span",{staticStyle:{color:"#F92672"}},[t._v("?:")]),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),e("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")]),t._v("\n"),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}")]),t._v("\n\n"),e("span",{staticStyle:{color:"#F92672"}},[t._v("export")]),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),e("span",{staticStyle:{color:"#66D9EF"}},[t._v("interface")]),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),e("span",{staticStyle:{color:"#A6E22E"}},[t._v("ImageSearchConfig")]),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")]),t._v("\n"),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  ")]),e("span",{staticStyle:{color:"#75715E"}},[t._v("/** 基本配置参数，将用于所有搜图相关指令 */")]),t._v("\n"),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  baseConfig")]),e("span",{staticStyle:{color:"#F92672"}},[t._v("?:")]),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),e("span",{staticStyle:{color:"#A6E22E"}},[t._v("CommandConfig")]),t._v("\n"),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  ")]),e("span",{staticStyle:{color:"#75715E"}},[t._v("/** image-search 指令的额外配置 */")]),t._v("\n"),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  mixedConfig")]),e("span",{staticStyle:{color:"#F92672"}},[t._v("?:")]),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),e("span",{staticStyle:{color:"#A6E22E"}},[t._v("CommandConfig")]),t._v("\n"),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  ")]),e("span",{staticStyle:{color:"#75715E"}},[t._v("/** saucenao 指令的额外配置 */")]),t._v("\n"),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  saucenaoConfig")]),e("span",{staticStyle:{color:"#F92672"}},[t._v("?:")]),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),e("span",{staticStyle:{color:"#A6E22E"}},[t._v("SaucenaoConfig")]),t._v("\n"),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  ")]),e("span",{staticStyle:{color:"#75715E"}},[t._v("/** ascii2d 指令的额外配置 */")]),t._v("\n"),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  ascii2dConfig")]),e("span",{staticStyle:{color:"#F92672"}},[t._v("?:")]),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),e("span",{staticStyle:{color:"#A6E22E"}},[t._v("CommandConfig")]),t._v("\n"),e("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}")])])])])],1)}),[],!1,null,null,null);a.default=r.exports}}]);